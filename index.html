<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR&amp;display=swap" rel="stylesheet">
    <style>
        * {margin: 0; padding: 0;}
        html, body {width: 100%; height: 100%; background-color: #264653; color: #a8dadc; font-family: 'Noto Sans KR', sans-serif; font-size: 20px; overflow: hidden;}
        .sectionTitle {margin-bottom: 10px; color: #e9c46a; font-size: 25px; font-weight: bold;}
        .title {display: block;}
        label {display: block; margin-bottom: 20px;}
        .warning {color: #e63946;}
        input {padding: 10px;}
        .mainWrap {width: 900px;  margin: auto;}
        .mainWrap > div {float: left; width: 50%; height: 100%; padding: 10px; box-sizing: border-box;}
    </style>
</head>
<body>
    <div class="wrap mainWrap">
        <div class="setting">
            <!-- <span class="title">이미지 이름(확장명도) </span><input type="text" placeholder="img.jpg" class="imgName">
            <span class="title">이미지 가로 사이즈 </span><input type="text" placeholder="1080" class="imgWidth">
            <span class="title">버튼 개수 </span><input type="text" class="btnCount" value="2">
            <input type="submit" value="버튼 개수 입력 후 클릭" onclick="create()">
            <span class="title">버튼 링크1 </span><input type="text" placeholder="http://www.naver.com" class="btnLink"></label>
            <span class="title">버튼 링크2 </span><input type="text" placeholder="http://www.naver.com" class="btnLink"></label>
            <span class="title">버튼 위치 아래에서 </span><input type="text" placeholder="1.2">% 위로</label> -->
            <p class="sectionTitle">팝업 코드 만들기</p>
            <label><span class="title">1) 이미지 이름(확장자도) </span><input type="text" placeholder="img.jpg" class="imgName"></label>
            <label><span class="title">2) 이미지 확장자 </span><input type="radio" value="jpg" class="fileEx">jpg <input type="radio" value="png" class="fileEx">png</label>
            <label><span class="title">3) 게시물 주소 넘버 </span><input type="text" placeholder="881" class="boardUrl"></label>
            <input type="submit" value="클릭" onclick="change()">
            <p class="warning"></p>
        </div>
        <div class="result">
            <textarea name="" id="" cols="50" rows="50" class="textarea"></textarea>
        </div>
        <script>
            var setting = document.getElementsByClassName("setting")[0];
            var wrap = document.getElementsByClassName("wrap");
            var textarea = wrap[0].getElementsByClassName("textarea")[0];
            var warning = wrap[0].getElementsByClassName("warning")[0];

            function create() {
                var btnCount = document.getElementsByClassName("btnCount")[0].value;
                var newSpan = document.createElement("span");
                newSpan.classList.add("title");
                var newInput = document.createElement("input");
                newInput.classList.add("btnName");
                
                for(i=1; i<=btnCount; i++) {
                    setting.appendChild(newSpan[i]);
                    // newSpan[i].innerHTML = "버튼 이름(확장명도) " + i;
                    // setting.appendChild(newInput);
                }
            }
           function change() {

            // 팝업 코드 만들기
            var imgName = setting.getElementsByClassName("imgName")[0].value;
            var boardUrl = setting.getElementsByClassName("boardUrl")[0].value;
            var fileEx = setting.getElementsByClassName("fileEx");
            var fileExValue = '';
            var radioCheck = 0;

            for(i=0; i<fileEx.length; i++) {
                if(fileEx[i].checked) {
                    fileExValue = fileEx[i].value;
                    radioCheck += 1;
                }
                if(imgName == '' || radioCheck = 0 || boardUrl == '') { //라디오박스가 하나도 선택안되었을때를 어케하지
                    warning.innerHTML = "빈칸 안채웠거나 선택 안한게 있음!";
                }
            }

            textarea.innerHTML = '<style type="text/css">body,html,img {padding:0; margin:0}</style><a href="http://mobilestock.etomato.com/mobilestock/NoticeView.aspx?Seq=' + boardUrl + '&amp;target=single&amp;title=공지사항" target="_blank"> <img src="http://ftp.etomato.com/etoftpuser2/' + imgName + '.' + fileExValue + '" style="vertical-align: bottom" width="100%" /> </a>';
            // // 이미지 이름
            // var imgName = setting.getElementsByClassName("imgName")[0].value;
            // document.getElementsByClassName("mainImg")[0].src = "http://ftp.etomato.com/etoftpuser2/" + imgName;

        //     // 이미지 사이즈
        //     var imgWidth = setting.getElementsByClassName("imgWidth")[0].value;
        //     document.getElementsByClassName("wrap")[0].style = "width:" + imgWidth + "px;margin:auto;position:relative;";

        //     // 버튼 이름
        //     var btnName1 = setting.getElementsByClassName("btnName")[0].value;
        //     var btnName2 = setting.getElementsByClassName("btnName")[1].value;

        //     var btnLink1 = setting.getElementsByClassName("btnLink")[0].value;
        //     var btnLink2 = setting.getElementsByClassName("btnLink")[1].value;

        //     // 버튼 개수
        //     var btnNumber1 = setting.getElementsByClassName("btnNumber")[0].value;
        //     var btnNumber2 = setting.getElementsByClassName("btnNumber")[1].value;
        //     var newDiv = document.createElement("div");
        //     newDiv.style = "width:100%;position:absolute;"; //height,top 설정해야함
        //     newDiv.innerHTML = "<a><img src='http://ftp.etomato.com/etoftpuser2/emptyImg.png' style='width:100%;height:100%;'></a>";
        //     if (btnNumber1.checked = true) {
        //         wrap[1].appendChild(newDiv);
        //         wrap[1].children[1].children[0].href = btnLink1;
        //     }
           }
        </script>
        <div class="text" style="display: none">
            <!DOCTYPE html>
            <html lang="ko">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Document</title>
                <style>
                    * {margin: 0; padding: 0;}
                    .wrap {margin: auto;}
                    .mainImg {width: 100%;}
                </style>
            </head>
            <body>
                <div class="wrap" style="width:100%;max-width:1080px;margin:0 auto;position:relative;">
                    <img src="" alt="이미지" class="mainImg">
                </div>
            </body>
            </html>
        </div>
    </div>
</body>
</html>